/*! Tabby v0.6.0 | (c) 2014 @_bobbylie | https://github.com/ImBobby/tabby */
!function(t,e,i){function a(e,i){this._element=t(e),this._settings=t.extend({},r,i),this._defaults=this._settings,this._name=s,this._triggers=this._element.find(".tabby-trigger"),this._activeTab=this._element.find(".tabby-tab.active"),this.init()}function n(){return"WebkitTransition"in i.body.style||"MozTransition"in i.body.style||"OTransition"in i.body.style||"transition"in i.body.style}var s="Tabby",r={hashChange:!1,speed:500,complete:null},h=39,o=37,c={tabActive:"active",tabReady:"tabby-tab--ready",triggerActive:"active",exclude:"tabby-exclude"};t.extend(a.prototype,{init:function(){this.setGroup(),this.showActiveTab(this._activeTab,this._defaults),this.toggleTab(this._defaults),this.setAccessibility(),this.hasHash(this._defaults),this.keyboardNav(this._element)},setGroup:function(){var t=(new Date).getTime();this._element.attr("data-tabby-group",t)},showActiveTab:function(e,i){var s=e.parent(),r=s.find(".tabby-tab"),h=e.innerHeight(),o=i.speed;if(n()?(a.prototype.setTabbySpeed(s,r,o),s.css("height",h)):s.animate({height:h+"px"},o),e.siblings().removeClass(c.tabActive+" "+c.tabReady).attr("aria-hidden","true"),e.addClass(c.tabActive+" "+c.tabReady).removeAttr("aria-hidden"),t.isFunction(i.complete)){setTimeout(i.complete,i.speed)}},toggleTab:function(e){this._triggers.click(function(i){var n=t(this);if(n.hasClass(c.triggerActive))return i.preventDefault();var s=n.attr("href"),r=t(s);if(r.length)return n.siblings(":not(."+c.exclude+")").removeClass(c.triggerActive).attr("tabindex","-1").removeAttr("aria-selected"),n.addClass(c.triggerActive).attr({tabindex:"0","aria-selected":"true"}),a.prototype.showActiveTab(r,e),e.hashChange?void 0:i.preventDefault()})},setAccessibility:function(){var e=this._element.find(".tabby-triggers"),i=this._element.find(".tabby-trigger:not(."+c.exclude+")"),a=this._element.find(".tabby-tab");e.attr("role","tablist"),i.each(function(e,i){var a=t(i),n=a.attr("href"),s=n.substring(1,n.length);a.attr({role:"tab","aria-controls":s,tabindex:"-1"}),a.hasClass(c.triggerActive)&&a.attr({"aria-selected":"true",tabindex:"0"})}),a.each(function(e,i){var a=t(i);a.attr("role","tabpanel"),a.hasClass(c.tabActive)||a.attr("aria-hidden","true")})},setTabbySpeed:function(t,e,i){var a=i+"ms";t.css("transition-duration",a),e.css("transition-delay",a)},hasHash:function(i){var a=e.location.hash;if(i.hashChange&&""!==a){var n=function(){var i=e.location.hash,a=(t(i),t('.tabby-trigger[href="'+i+'"]'));a.trigger("click").focus()};n(),e.onhashchange=n}},keyboardNav:function(a){var n=this._defaults.hashChange,s=function(t){var i=a.find(".tabby-trigger:focus:not(."+c.exclude+")");if(i.length){var s=i.prev(),r=i.next(),b=s.length,l=r.length,d=function(t){t.hasClass(c.exclude)||(t.trigger("click").focus(),n&&(e.location.hash=t.attr("href")))};t.keyCode===h&&l?d(r):t.keyCode===o&&b&&d(s)}};t(i).keydown(s)}}),t.fn.tabby=function(t){return this.length?this.each(function(){new a(this,t)}):void 0}}(jQuery,window,document);