/*! Tabby v0.6.0 | (c) 2014 @_bobbylie | https://github.com/ImBobby/tabby */
!function(t,e,i){function a(e,i){this._element=t(e),this._settings=t.extend({},n,i),this._defaults=this._settings,this._name=r,this._triggers=this._element.find(".tabby-trigger"),this._activeTab=this._element.find(".tabby-tab.active"),this.init()}function s(){return"WebkitTransition"in i.body.style||"MozTransition"in i.body.style||"OTransition"in i.body.style||"transition"in i.body.style}var r="Tabby",n={hashChange:!1,speed:500,complete:null},o=39,h=37,b={tabActive:"active",tabReady:"tabby-tab--ready",triggerActive:"active"};t.extend(a.prototype,{init:function(){this.setGroup(),this.showActiveTab(this._activeTab,this._defaults),this.toggleTab(this._defaults),this.setAccessibility(),this.hasHash(this._defaults),this.keyboardNav(this._element)},setGroup:function(){var t=(new Date).getTime();this._element.attr("data-tabby-group",t)},showActiveTab:function(e,i){var r=e.parent(),n=r.find(".tabby-tab"),o=e.innerHeight(),h=i.speed;if(s()?(a.prototype.setTabbySpeed(r,n,h),r.css("height",o)):r.animate({height:o+"px"},h),e.siblings().removeClass(b.tabActive+" "+b.tabReady).attr("aria-hidden","true"),e.addClass(b.tabActive+" "+b.tabReady).removeAttr("aria-hidden"),t.isFunction(i.complete)){setTimeout(i.complete,i.speed)}},toggleTab:function(e){this._triggers.click(function(i){var s=t(this);if(s.hasClass(b.triggerActive))return i.preventDefault();var r=s.attr("href"),n=t(r);return s.siblings().removeClass(b.triggerActive).attr("tabindex","-1").removeAttr("aria-selected"),s.addClass(b.triggerActive).attr({tabindex:"0","aria-selected":"true"}),a.prototype.showActiveTab(n,e),e.hashChange?void 0:i.preventDefault()})},setAccessibility:function(){var e=this._element.find(".tabby-triggers"),i=this._element.find(".tabby-trigger"),a=this._element.find(".tabby-tab");e.attr("role","tablist"),i.each(function(e,i){var a=t(i),s=a.attr("href"),r=s.substring(1,s.length);a.attr({role:"tab","aria-controls":r,tabindex:"-1"}),a.hasClass(b.triggerActive)&&a.attr({"aria-selected":"true",tabindex:"0"})}),a.each(function(e,i){var a=t(i);a.attr("role","tabpanel"),a.hasClass(b.tabActive)||a.attr("aria-hidden","true")})},setTabbySpeed:function(t,e,i){var a=i+"ms";t.css("transition-duration",a),e.css("transition-delay",a)},hasHash:function(i){var s=e.location.hash;if(i.hashChange&&""!==s){var r=t(s),n=t('.tabby-trigger[href="'+s+'"]');n.siblings().removeClass(b.triggerActive),n.siblings().removeAttr("aria-selected"),n.addClass(b.triggerActive).attr("aria-selected","true"),a.prototype.showActiveTab(r,i)}},keyboardNav:function(e){var a=function(t){var i=e.find(".tabby-trigger:focus");if(i.length){var a=i.prev(),s=i.next(),r=a.length,n=s.length,c=function(t){i.removeClass(b.triggerActive).removeAttr("aria-selected").attr("tabindex","-1"),t.trigger("click").focus(),t.addClass(b.triggerActive).attr({"aria-selected":"true",tabindex:"0"})};t.keyCode===o&&n?c(s):t.keyCode===h&&r&&c(a)}};t(i).keyup(a)}}),t.fn.tabby=function(t){return this.length?this.each(function(){new a(this,t)}):void 0}}(jQuery,window,document);